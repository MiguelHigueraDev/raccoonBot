{"version":3,"sources":["../../../../src/optional-listeners/message-command-listeners/CoreMessageCommandTyping.ts"],"names":[],"mappings":";;;;;AAAA,SAAS,sBAAsB;AAE/B,SAAS,gBAAgB;AAEzB,SAAS,cAA6C;AAE/C,IAAM,gBAAN,MAAM,sBAAqB,SAA0C;AAAA,EACpE,YAAY,SAAiC;AACnD,UAAM,SAAS,EAAE,OAAO,OAAO,kBAAkB,CAAC;AAClD,SAAK,UAAU,KAAK,UAAU,OAAO,QAAQ,UAAU;AAAA,EACxD;AAAA,EAEA,MAAa,IAAI,SAAkB,SAAyB,SAAmC;AAC9F,QAAI,CAAC,QAAQ,UAAU,eAAe,QAAQ,OAAO,GAAG;AACvD;AAAA,IACD;AAEA,QAAI;AACH,YAAM,QAAQ,QAAQ,WAAW;AAAA,IAClC,SAAS,OAAO;AACf,cAAQ,OAAO,KAAK,OAAO,2BAA2B,OAAgB,EAAE,GAAG,SAAS,SAAS,QAAQ,CAAC;AAAA,IACvG;AAAA,EACD;AACD;AAjB4E;AAArE,IAAM,eAAN","sourcesContent":["import { isStageChannel } from '@sapphire/discord.js-utilities';\nimport type { Message } from 'discord.js';\nimport { Listener } from '../../lib/structures/Listener';\nimport type { MessageCommand } from '../../lib/types/CommandTypes';\nimport { Events, type MessageCommandRunPayload } from '../../lib/types/Events';\n\nexport class CoreListener extends Listener<typeof Events.MessageCommandRun> {\n\tpublic constructor(context: Listener.LoaderContext) {\n\t\tsuper(context, { event: Events.MessageCommandRun });\n\t\tthis.enabled = this.container.client.options.typing ?? false;\n\t}\n\n\tpublic async run(message: Message, command: MessageCommand, payload: MessageCommandRunPayload) {\n\t\tif (!command.typing || isStageChannel(message.channel)) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait message.channel.sendTyping();\n\t\t} catch (error) {\n\t\t\tmessage.client.emit(Events.MessageCommandTypingError, error as Error, { ...payload, command, message });\n\t\t}\n\t}\n}\n"]}