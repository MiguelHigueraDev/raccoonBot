{"version":3,"sources":["../../../../../src/lib/utils/application-commands/registriesErrors.ts"],"names":[],"mappings":";;;;AAAA,SAAS,iBAAiB;AAE1B,SAAS,cAAc;AACvB,SAAS,0BAA0B;AAO5B,SAAS,qBAAqB,OAAgB,SAA4B;AAChF,QAAM,EAAE,MAAM,SAAS,IAAI;AAC3B,QAAM,EAAE,QAAQ,OAAO,IAAI;AAE3B,MAAI,OAAO,cAAc,OAAO,sCAAsC,GAAG;AACxE,WAAO,KAAK,OAAO,wCAAwC,OAAO,OAAO;AAAA,EAC1E,OAAO;AACN,WAAO;AAAA,MACN,0FAA0F,IAAI,cAAc,SAAS,IAAI;AAAA,MACzH;AAAA,IACD;AAAA,EACD;AACD;AAZgB;AAmBT,SAAS,uBAAuB,OAAgB,SAAwB;AAC9E,QAAM,EAAE,OAAO,IAAI;AAEnB,MAAI,OAAO,cAAc,OAAO,8CAA8C,GAAG;AAChF,WAAO,KAAK,OAAO,gDAAgD,OAAO,OAAO;AAAA,EAClF,WAAW,SAAS;AACnB,uBAAmB,4DAA4D,OAAO,IAAI,KAAK;AAAA,EAChG,OAAO;AACN,uBAAmB,mDAAmD,KAAK;AAAA,EAC5E;AACD;AAVgB","sourcesContent":["import { container } from '@sapphire/pieces';\nimport type { Command } from '../../structures/Command';\nimport { Events } from '../../types/Events';\nimport { bulkOverwriteError } from './registriesLog';\n\n/**\n * Opinionatedly logs the encountered registry error.\n * @param error The emitted error\n * @param command The command which had the error\n */\nexport function emitPerRegistryError(error: unknown, command: Command<any, any>) {\n\tconst { name, location } = command;\n\tconst { client, logger } = container;\n\n\tif (client.listenerCount(Events.CommandApplicationCommandRegistryError)) {\n\t\tclient.emit(Events.CommandApplicationCommandRegistryError, error, command);\n\t} else {\n\t\tlogger.error(\n\t\t\t`Encountered error while handling the command application command registry for command \"${name}\" at path \"${location.full}\"`,\n\t\t\terror\n\t\t);\n\t}\n}\n\n/**\n * Opinionatedly logs any bulk overwrite registries error.\n * @param error The emitted error\n * @param guildId The guild id in which the error was caused\n */\nexport function emitBulkOverwriteError(error: unknown, guildId: string | null) {\n\tconst { client } = container;\n\n\tif (client.listenerCount(Events.ApplicationCommandRegistriesBulkOverwriteError)) {\n\t\tclient.emit(Events.ApplicationCommandRegistriesBulkOverwriteError, error, guildId);\n\t} else if (guildId) {\n\t\tbulkOverwriteError(`Failed to overwrite guild application commands for guild ${guildId}`, error);\n\t} else {\n\t\tbulkOverwriteError(`Failed to overwrite global application commands`, error);\n\t}\n}\n"]}